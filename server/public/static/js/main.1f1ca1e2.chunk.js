(this.webpackJsonpboilerplate=this.webpackJsonpboilerplate||[]).push([[0],{158:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"catState",(function(){return E})),a.d(n,"listState",(function(){return h})),a.d(n,"descState",(function(){return O}));var c=a(0),r=a.n(c),l=a(21),i=a.n(l),s=(a(59),a(3)),u=a(12),o=a(9),m=a(14),p=a.n(m),b={cats:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ex/GET_ALL":return Object(u.a)(Object(u.a)({},e),{},{cats:t.payload});default:return e}};function d(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.catState.cats}));return Object(c.useEffect)((function(){e((function(e){p.a.get("/api/categories").then((function(t){var a=t.data.cats;e({type:"ex/GET_ALL",payload:a})}))}))}),[e]),{cats:t}}var f={listings:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"subCat/GET_LISTINGS":return Object(u.a)(Object(u.a)({},e),{},{listings:t.payload});default:return e}};function v(e){return function(t){p.a.get("/api/subs/"+e).then((function(e){var a=e.data;t({type:"subCat/GET_LISTINGS",payload:a})}))}}function g(){var e=Object(o.b)();return{list:Object(o.c)((function(e){return e.listState.listings})),fetchListings:function(t){return e(v(t))},sendListing:function(t,a,n,c,r,l){e(function(e,t,a,n,c,r){return function(l){p.a.post("/api/subs/"+e,{title:t,city:a,location:n,desc:c,price:r}).then((function(t){l(v(e))}))}}(t,a,n,c,r,l))}}}var y={description:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ex/GET_DESCRIPT":return Object(u.a)(Object(u.a)({},e),{},{description:t.payload});default:return e}};function N(){var e=Object(o.b)();return{item:Object(o.c)((function(e){return e.descState.description})),fetchDescript:function(t){return e(function(e){return function(t){p.a.get("/api/listing/"+e).then((function(e){var a=e.data;t({type:"ex/GET_DESCRIPT",payload:a})}))}}(t))}}}var j=a(10),S=(a(81),function(e){var t=d().cats;return r.a.createElement("div",{className:"homeWrapper"},r.a.createElement("h1",{className:"ryanTitle"},"ryanslist"),r.a.createElement("div",null,r.a.createElement("p",{className:"city"},"Las Vegas"),r.a.createElement("div",{className:"catDiv"},t.map((function(e){return r.a.createElement("div",{className:"mainCats",key:"cat"+e.id},r.a.createElement("h3",null,e.name),r.a.createElement("div",{className:"listingDiv"},e.subCats.map((function(e){return r.a.createElement(j.b,{key:"subcat"+e.id,to:"/subs/"+e.slug},r.a.createElement("p",{className:"listings"},e.name))}))))})))),r.a.createElement("p",{className:"nearby"},"nearby cl"))}),x=a(11),C=(a(83),a(23)),D=a.n(C),L=a(18),T=a.n(L),_=function(e){var t=g(),a=t.list,n=t.fetchListings,l=t.sendListing,i=Object(c.useState)(""),s=Object(x.a)(i,2),u=s[0],o=s[1],m=Object(c.useState)(""),p=Object(x.a)(m,2),b=p[0],E=p[1],d=Object(c.useState)(""),f=Object(x.a)(d,2),h=f[0],v=f[1],y=Object(c.useState)(""),O=Object(x.a)(y,2),N=O[0],S=O[1],C=Object(c.useState)(""),L=Object(x.a)(C,2),_=L[0],w=L[1],k=Object(c.useState)(""),P=Object(x.a)(k,2),B=P[0],G=P[1],I=Object(c.useState)(""),F=Object(x.a)(I,2),R=F[0],V=F[1],W=Object(c.useState)(""),A=Object(x.a)(W,2),J=A[0],X=A[1],H=Object(c.useState)(""),M=Object(x.a)(H,2),U=M[0],q=M[1];return Object(c.useEffect)((function(){n(e.match.params.slug)}),[e.match.params]),r.a.createElement("div",{className:"allSubsPage"},r.a.createElement(j.b,{to:"/",className:"homeButton"},r.a.createElement("button",null,"Ryanslist")),r.a.createElement("div",{className:"subsWrapper"},r.a.createElement("div",null,r.a.createElement("h1",null,a.length>0&&a[0].name),r.a.createElement("div",{className:"subsDiv"},a&&a.map((function(e){return r.a.createElement("div",{className:"subCats",key:"each-"+e.title},r.a.createElement(j.b,{key:"each"+e.id,to:"/listing/"+e.id},r.a.createElement("p",{className:"para"},e.title,",")),r.a.createElement("span",null,"(",e.city,")"),r.a.createElement("span",{className:"timeStamp"},D()(e.time_stamp).fromNow()))})))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=!0;T.a.isEmpty(u)?(a=!1,E(" -- Can't be blank. Please enter a title.")):E(""),T.a.isEmpty(h)?(a=!1,S(" -- Can't be blank. Please enter a city.")):S(""),T.a.isEmpty(B)?(a=!1,V(" -- Enter a description.")):V(""),T.a.isEmpty(J)?(a=!1,q(" -- Enter a price or use 'free'.")):q(""),a&&(l(e.match.params.slug,u,h,_,B,J),o(""),v(""),w(""),G(""),X(""))},className:"submitDiv"},r.a.createElement("h2",null,"Submit your post below:"),r.a.createElement("label",{className:b?"error":"",htmlFor:"title"},"Title ",b&&b),r.a.createElement("input",{id:"title",type:"text",placeholder:"ex. Horse for sale",className:b?"errorBox":"",onChange:function(e){return o(e.target.value)},value:u}),r.a.createElement("label",{className:N?"error":"",htmlFor:"city"},"City ",N&&N),r.a.createElement("input",{id:"city",type:"text",placeholder:"ex. Las Vegas",className:N?"errorBox":"",onChange:function(e){return v(e.target.value)},value:h}),r.a.createElement("label",{htmlFor:"location"},"Location"),r.a.createElement("input",{id:"location",type:"text",placeholder:"ex. Southwest",onChange:function(e){return w(e.target.value)},value:_}),r.a.createElement("label",{className:R?"error":"",htmlFor:"desc"},"Description ",R&&R),r.a.createElement("textarea",{id:"desc",placeholder:"ex. Beautiful brown and white horse for sale",className:R?"errorBox":"",onChange:function(e){return G(e.target.value)},value:B}),r.a.createElement("label",{className:U?"error":"",htmlFor:"price"},"Price ",U&&U),r.a.createElement("input",{id:"price",type:"text",placeholder:"ex. Free",className:U?"errorBox":"",onChange:function(e){return X(e.target.value)},value:J}),r.a.createElement("button",{type:"submit"},"Submit"))))},w=(a(158),function(e){var t=N(),a=t.item,n=t.fetchDescript;return Object(c.useEffect)((function(){n(e.match.params.id)}),[e.match.params]),r.a.createElement("div",{className:"listingPage"},r.a.createElement(j.b,{to:"/",className:"homeButton"},r.a.createElement("button",null,"Ryanslist")),r.a.createElement("div",{className:"itemWrapper"},r.a.createElement("div",{className:"itemDiv"},a.map((function(e){return r.a.createElement("div",{className:"item",key:"each-"+e.id},r.a.createElement("div",{className:"postDiv"},r.a.createElement("p",{className:"timeStamp"},"Posted: ",D()(e.time_stamp).fromNow())),r.a.createElement("p",{className:"itemTitle"},e.title," - ",e.price),r.a.createElement("p",null,"Location:"),r.a.createElement("p",null,e.city," (",e.location,")"),r.a.createElement("p",null,"Description:"),r.a.createElement("p",null,e.desc))})))))}),k=function(e){return r.a.createElement("div",null,r.a.createElement(s.a,{exact:!0,path:"/",component:S}),r.a.createElement(s.a,{path:"/subs/:slug",component:_}),r.a.createElement(s.a,{path:"/listing/:id",component:w}))},P=a(15),B=a(53),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,I=Object(P.c)(n),F=G(Object(P.a)(B.a)),R=Object(P.e)(I,F);i.a.render(r.a.createElement(o.a,{store:R},r.a.createElement(j.a,null,r.a.createElement(k,null))),document.getElementById("root"))},54:function(e,t,a){e.exports=a(159)},59:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){}},[[54,1,2]]]);
//# sourceMappingURL=main.1f1ca1e2.chunk.js.map